function crearSlider(){new Glider(document.querySelector(".glider-carousel"),{slidesToShow:1,dots:"#dots",arrows:{prev:".glider-prev",next:".glider-next"},responsive:[{breakpoint:1200,settings:{slidesToShow:5,itemWidth:300}},{breakpoint:300,settings:{slidesToShow:"auto",itemWidth:200,gap:20}}]}),document.querySelector(".carousel-2")&&new Glider(document.querySelector(".carousel-2"),{slidesToShow:1,dots:"#dots",arrows:{prev:".prev-2",next:".next-2"},responsive:[{breakpoint:1200,settings:{slidesToShow:5,itemWidth:300}},{breakpoint:300,settings:{slidesToShow:"auto",itemWidth:200,gap:20}}]})}function cerrarModalSetup(){setTimeout(()=>{$(".modal-setup").removeClass("animacion-modal-setup-exit"),$(".modal-setup").addClass("animacion-modal-setup")},100),$(".modal-setup").removeClass("aparecer-modal"),setTimeout(()=>{$(".modal-setup").css("display","none")},500)}function maquinaEscribir(e="",o=200,t){let a=e.split("");$(t).html("");let r=0,n=setInterval((function(){t.find("span")&&(t.find("span").remove(),t.append(a[r-1]));var e="<span class=border-right>"+a[r]+"</span>";t.append(e),r++,$(".fa-xmark").on("click",(function(){clearInterval(n)})),r===a.length&&(t.find("span").remove(),t.append(a[r-1]),clearInterval(n))}),o)}function alertaLogeado(e){Swal.fire({icon:"success",title:"Logeado Correctamente",text:"Bienvenid@ "+e,timer:1e3}).then(e=>{location.href="index.php"})}function alertaRegistrado(e){Swal.fire({imageUrl:"build/img/177-envelope-mail-send-outline.gif",imageWidth:150,imageHeight:150,title:"Se ha registrado correctamente",text:"Hemos enviado un mail de confirmación",timer:2500}).then(e=>{location.href="index.php"})}function alertasGenericas(e,o,t){Swal.fire({icon:e,title:o,text:t})}function calificarProducto(e){let o=$("button.star-calification").attr("data-id");$.ajax({url:"./Controllers/Producto/productoController.php?action=calificarProducto",type:"POST",data:{calificacion:e,idProducto:o},success:function(e){"error"==e&&($(".container-icon-login").click(),$(".star-calification").html("&#9734"))}})}window.addEventListener("load",(function(){$(".loader").fadeOut(1e3)})),$((function(){document.querySelector(".glider-carousel")&&crearSlider(),document.querySelector(".container-btns-filtrar")&&new Glider(document.querySelector(".glider-carousel-filtro"),{slidesToShow:2,dots:"#dots",arrows:{prev:".glider-prev-filtro",next:".glider-next-filtro"},responsive:[{breakpoint:1200,settings:{slidesToShow:3,itemWidth:300,gap:50}},{breakpoint:300,settings:{slidesToShow:"auto",itemWidth:200,gap:20}}]});const e=document.querySelector(".modal-login"),o=document.querySelector(".modal-registrar"),t=document.querySelector(".wrapper-seguidoresProfile"),a=(document.querySelector(".search-comunidad"),document.querySelector(".search-box"),document.querySelector(".container-form-login")),r=document.querySelector(".container-form-registrar"),n=document.querySelector("input[name='email-register']"),i=$(".me_gusta-container p").text(),s=$(".wrapper-containerProfile img").attr("src");if(document.querySelector(".header")&&($(".btn-login").on("click",(function(e){if(e.preventDefault(),$(".container-form-login")[0].checkValidity()){e.preventDefault();let o=$('input[name="email-login"]').val(),t=$('input[name="pass-login"]').val();$.ajax({type:"POST",url:"./Controllers/loginController.php",data:{emailLogin:o,passLogin:t},success:function(e){""==e?alertasGenericas("error","Credenciales Incorrectas","Ingrese los datos correctamente"):0==e?alertasGenericas("error","Confirme su Cuenta","Revise su correo Electronico"):(alertaLogeado(e),console.log(e))}})}else a.reportValidity()})),$(".btn-registrarse").on("click",(function(e){if(e.preventDefault(),$(".container-form-registrar")[0].checkValidity()){e.preventDefault();let o=$('input[name="email-register"]').val(),t=$('input[name="user-register"]').val(),a=$('input[name="pass-register"]').val(),r=$('input[name="passConfirm-register"]').val(),n=$(".error-email");if(!$(n).hasClass("d-n"))return void($(n).hasClass("error-animation")||($(n).addClass("error-animation"),setTimeout(()=>{$(n).removeClass("error-animation")},1e3)));if(a!=r)return void alertasGenericas("error","Advertencia","Las contraseñas no coinciden");if(!$("input[name='check-terminos']").is(":checked"))return void alertasGenericas("error","Advertencia","Debe aceptar los terminos y condiciones");Swal.fire({title:"Cargando..."}),Swal.showLoading(),$.ajax({type:"POST",url:"./Controllers/registerController.php",data:{emailRegister:o,userRegister:t,passRegister:a},success:function(e){Swal.close(),console.log(e);var o=JSON.parse(e);console.log(o),"1"==o.success?alertaRegistrado():alertasGenericas("error","Error","Error en el registro")}})}else r.reportValidity()})),n.addEventListener("focusout",(function(){let e=n.value;$.ajax({type:"POST",url:"./Controllers/validarController.php",data:{email:e},success:function(e){""==e?$(".error-email").hasClass("d-n")||$(".error-email").addClass("d-n"):$(".error-email").hasClass("d-n")&&$(".error-email").removeClass("d-n")}})})),window.onclick=function(a){a.target===e?($(".modal-login").removeClass("mostrarModal"),setTimeout(()=>{$("body").removeClass("body-modalform"),$("body").css("overflow","auto"),$(".fa-xmark").click()},500)):a.target===o?($(".modal-registrar").removeClass("mostrarModal"),setTimeout(()=>{$("body").removeClass("body-modalform"),$("body").css("overflow","auto"),$(".fa-xmark").click()},500)):a.target===t?($(".wrapper-seguidoresProfile").css("visibility","hidden"),$(".wrapper-seguidoresProfile").css("opacity","0"),$(".wrapper-seguidoresProfile").css("pointer-events","none"),setTimeout(()=>{$("body").removeClass("body-modalform"),$("body").css("overflow","auto"),$(".fa-xmark").click()},500)):a.target!=document.querySelector(".search-box")&&a.target!=document.querySelector(".search-comunidad")&&a.target!=document.querySelector(".search-box p")&&$(".search-box").addClass("d-n")},$(".wrapper-seguidoresProfile")&&$(".selected-heart").on("click",(function(){$(".wrapper-seguidoresProfile").css("visibility","visible"),$(".wrapper-seguidoresProfile").css("opacity","1"),$(".wrapper-seguidoresProfile").css("pointer-events","all"),$("body").addClass("body-modalform"),$("body").css("overflow","hidden")})),$(".container-icon-login").on("click",(function(){if($(".modal-setup").hasClass("aparecer-modal")){cerrarModalSetup();setTimeout(()=>{$(".dialogo-login").html(""),$(".modal-login").addClass("mostrarModal"),$(".modal-login .modal-container").addClass("animacion-modal")},500)}else $("body").css("overflow","hidden"),$("body").addClass("body-modalform"),console.log("hola"),$(".dialogo-login").html(""),$(".modal-login").addClass("mostrarModal"),$(".modal-login .modal-container").addClass("animacion-modal");setTimeout(()=>{maquinaEscribir("Buenas, Inicia tu sesión",90,$(".dialogo-login"))},600)})),$(".close-setup").on("click",(function(){cerrarModalSetup()})),$(".x").on("click",(function(){$(".modal-login").hasClass("mostrarModal")?($(".modal-login").removeClass("mostrarModal"),setTimeout(()=>{$("body").removeClass("body-modalform"),$("body").css("overflow","auto")},500)):$(".modal-registrar").hasClass("mostrarModal"),$(".modal-registrar").removeClass("mostrarModal"),setTimeout(()=>{$("body").removeClass("body-modalform"),$("body").css("overflow","auto")},500)})),$(".btn-registrar").on("click",(function(){$(".modal-login .modal-container").removeClass("animacion-modal"),$(".modal-login").removeClass("mostrarModal"),$(".modal-login .modal-container").addClass("moverContenedor"),$(".modal-registrar").addClass("colorModal"),$(".modal-registrar").addClass("mostrarModal"),maquinaEscribir("Sé parte de la comunidad",110,$(".dialogo-registrar"))})),$(".btn-mostrar-setup").on("click",(function(){$(".modal-setup").removeClass("animacion-modal-setup"),$(".modal-setup").addClass("animacion-modal-setup-exit"),$(".modal-setup").css("display","block"),setTimeout(()=>{$(".modal-setup").addClass("aparecer-modal")},300)})),$(".profile-setup .fa-plus").on("click",(function(){Swal.fire({title:"Agregar Setup",html:'<form action=\'Controllers/Usuario/perfilController.php?action=setup\' method=\'POST\' class="form-agregarSetup">\n        <input type="text" id="setup-nombre" class="swal2-input" placeholder="Ingrese el nombre" name=\'setup-nombre\'>\n        \n       \n        </form>',confirmButtonText:"Agregar",preConfirm:()=>{Swal.getPopup().querySelector("#setup-nombre").value?$(".form-agregarSetup").submit():Swal.showValidationMessage("Ingresa un nombre para tu setup")}})})),$("select[name='ordenar']").on("change",(function(){let e=$(this).val();if(0==e)return;let o=window.location.search;const t=new URLSearchParams(o);t.has("search")?(console.log("aa"),t.has("filtroTienda")?window.location.href=`?search=${t.get("search")}&filtroTienda=${t.get("filtroTienda")}&ordenar=${e}`:window.location.href=`?search=${t.get("search")}&ordenar=${e}`):t.has("tipoProducto")&&(t.has("filtroTienda")?(window.location.href=window.location.pathname+`?tipoProducto=${t.get("tipoProducto")}&filtroTienda=${t.get("filtroTienda")}&ordenar=${e}`,console.log(window.location.pathname+`?tipoProducto=${t.get("tipoProducto")}&filtroTienda=${t.get("filtroTienda")}&ordenar=${e}`)):window.location.href=window.location.pathname+`?tipoProducto=${t.get("tipoProducto")}&ordenar=${e}`)}))),$(".container-addItem").on("click",(function(){$(".dropdown-menuAdd").toggleClass("mostrarDropdown"),$(".downArrow_AddSetup").toggleClass("rotarArrow")})),$(".dropdown-menuAdd button").on("click",(function(){let e=$(this).val(),o=$(this).attr("data-productoId");console.log(o),$.ajax({type:"POST",url:"./Controllers/Setup/setupController.php?action=actualizarSetup",data:{setupNombre:e,productoId:o},success:function(e){Swal.fire({toast:!0,icon:"success",title:"Se agregó el producto al setup",position:"top-right",showConfirmButton:!1,timer:2e3}),setTimeout(()=>{location.reload()},1500)}})})),$(".responder-comentario").on("click",(function(){let e=$(this).prop("id").split("-");$("#form-respuesta-"+e[e.length-1]).toggleClass("hidden")})),$(".container-votos .fa-caret-up").on("click",(function(){if($(this).hasClass("votar-noLogeado"))return void $(".container-icon-login").click();$(this).toggleClass("comentario-votado");let e=$(this).siblings("span"),o=$(e).text();o=$(this).hasClass("comentario-votado")?parseInt(o)+1:parseInt(o)-1,console.log(o),$(e).text(o);let t=$(this).attr("data-idComentario");$.ajax({type:"POST",url:"./Controllers/Comentario/comentarioController.php?action=votar",data:{idComentario:t},success:function(e){console.log(e)}})})),$(".search-button").on("click",(function(){let e=$(this).siblings().val();window.location.href="buscarProducto.php?search="+e})),$("div#option-rating").on("click",(function(){$("section#stats-rating").hasClass("d-n")&&($("section#stats-comments").addClass("d-n"),$("section#stats-rating").removeClass("d-n"))})),$("div#option-comments").on("click",(function(){$("section#stats-comments").hasClass("d-n")&&($("section#stats-rating").addClass("d-n"),$("section#stats-comments").removeClass("d-n"))})),$(".select-setup__profile").on("change",(function(){let e=this.value;$(".container-setup__table").addClass("d-n");let o=0,t=$(".container-setup__table#setup-"+e);t.find("tr").each((function(e){let t=$(this).find("td").eq(2).text().replace("$","");0!=t&&(o+=parseInt(t))})),console.log(o),t.removeClass("d-n"),$(".setup-profile-total span").html("$"+o)})),$(".select-setup__profile-float").on("change",(function(){let e=this.value;$(".container-setup__table-float").addClass("d-n");let o=0,t=$(".container-setup__table-float#setup-"+e);t.find("tr").each((function(e){let t=$(this).find("td").eq(2).text().replace("$","");0!=t&&(o+=parseInt(t))})),console.log(o),t.removeClass("d-n"),$(".setup-profile-total span").html("$"+o)})),$(".editarPerfil-container .fa-edit").on("click",(function(){$(".container-editProfile").hasClass("d-n")?($(".container-editProfile").removeClass("d-n"),$(".img-container__profile").css("filter","contrast(.8)"),$(".wrapper-containerProfile i").removeClass("d-n"),$(".container-informationProfile").addClass("d-n")):($(".container-editProfile").addClass("d-n"),$(".wrapper-containerProfile i").addClass("d-n"),$(".wrapper-containerProfile img").attr("src",s),$(".img-container__profile").css("filter","initial"),$(".container-informationProfile").removeClass("d-n"))})),$(".editProfile__form #getAvatarFile").on("change",(function(){let e=$(this).get(0).files[0];if(e){const o=new FileReader;o.addEventListener("load",(function(){$(".wrapper-containerProfile img").attr("src",o.result)})),o.readAsDataURL(e)}})),$("button.star-calification").on("click",(function(){calificarProducto($(this).val())})),$(".star-calification .selected")){let e=$(".star-calification.selected").val();console.log(e),$(".star-calification").each((function(o){o<e&&$(this).html("&#9733")}))}$(".star-calification").on("click",(function(){let e=$(this).val();$(".calificacion-producto__puntaje").html(e+".0/5.0"),$(".star-calification").each((function(o){o<e?$(this).html("&#9733"):$(this).html("&#9734")}))})),$(".item-header .fa-trash-can").on("click",(function(){Swal.fire({icon:"warning",title:"¿Eliminar Setup?",text:"¿Seguro que quieres eliminar el Setup?",showConfirmButton:!0,confirmButtonText:"Eliminar",showCancelButton:!0,cancelButtonText:"Cancelar",cancelButtonColor:"#E57979",confirmButtonColor:"#3085d6"}).then(e=>{if(e.isConfirmed){let e=$(".select-setup__profile option:selected"),o=$(".select-setup__profile-float option:selected"),t=$(e).text(),a=$(".select-setup__profile").val();console.log(a),console.log($("#setup-"+a)),$("#setup-"+a).remove(),$("div#setup-"+a).remove(),e.remove(),o.remove(),$(".setup-profile-total span").html("$0");let r=$(".select-setup__profile option:selected").val();$("#setup-"+r).removeClass("d-n"),$("div#setup-"+r).removeClass("d-n"),$.ajax({type:"POST",url:"./Controllers/Setup/setupController.php?action=eliminarSetup",data:{nombreSetup:t},success:function(e){console.log(e)}})}})})),$(".search-comunidad").on("keyup",(function(){let e=$(this).val();""!=e?(console.log(e),$.ajax({type:"POST",url:"./Controllers/Comunidad/comunidadController.php?action=buscarUsuario",data:{nombreUsuario:e},success:function(e){let o=JSON.parse(e);$(".search-box").removeClass("d-n"),0!=o.length?$(".search-box").html(o.map((function(e){return`<a href="perfil.php?idUsuario=${e.idUsuario}" class="search-box-container">\n              <div class="search-box-container-icon">\n                <i class="fa-solid fa-user"></i>\n              </div>\n              <div class="search-box-container-content">\n                <p >${e.username}</p>\n                \n              </div>\n            </a>`})).join("")):$(".search-box").html('<p style="text-align: center">No se encontraron resultados</p>')}})):$(".search-box").addClass("d-n")})),$(".me_gusta-container .icon-meGusta").click((function(){containerMegusta=$(".me_gusta-container p");let e=parseInt(containerMegusta.text());idUsuario=$(this).parent().attr("data-idUsuario"),$(this).hasClass("icon-meGusta__noLog")?$(".container-icon-login").click():($(this).hasClass("selected-heart")||e==parseInt(i)+1?(containerMegusta.html(e-1),$(this).removeClass("selected-heart")):($(this).addClass("selected-heart"),containerMegusta.html(e+1)),$.ajax({type:"POST",url:"./Controllers/Usuario/perfilController.php?action=seguirUsuario",data:{idUsuario:idUsuario},success:function(e){}}))})),$(".input-confirmar").on("focus",(function(){$(this).toggleClass("active")})),$(".input-confirmar").on("focusout",(function(){$(this).toggleClass("active")})),$(".container-opcionesComentario .fa-ellipsis-vertical").click((function(){$(this).siblings(".dropbox-menuDots").toggleClass("d-n")})),$("span[name='span-reportarComentario']").click((function(){let e=$(this).attr("data-id");swal.fire({title:"Selecciona el motivo",input:"select",inputOptions:{1:"Inapropiado",2:"Ofensivo",3:"Spam",4:"Otro"},inputPlaceholder:"No seleccionado",inputValidator:e=>new Promise(o=>{""!==e?o():o("Debes seleccionar un motivo")}),confirmButtonText:"Reportar",showCancelButton:!0,cancelButtonText:"Cancelar",reverseButtons:!0}).then(o=>{if(o.value){let t=o.value;$.ajax({type:"POST",url:"./Controllers/Comentario/comentarioController.php?action=reportarComentario",data:{idComentario:e,idTipoReporte:t},success:function(e){console.log(e)}})}})})),$(".container-setup__table .fa-close").on("click",(function(){let e=$(".select-setup__profile option:selected").text(),o=$(this).attr("data-idProducto"),t=$(this).parent().parent();$.ajax({type:"POST",url:"./Controllers/Setup/setupController.php?action=eliminarProducto",data:{idProducto:o,nombreSetup:e},success:function(e){let o=$(t).find("td"),a=$(o)[0].innerText;$(o)[1].innerText=a;let r=$(o)[2].innerText;$(o)[2].innerText="$0";let n=$(".setup-profile-total span").html().replace("$",""),i=parseInt(n.replace(".","")),s=r.replace("$",""),l=i-parseInt(s.replace(".",""));$(".setup-profile-total span").html("$"+l)}})}))})),$(".open-hamburguer").click((function(){$("body").addClass("body-modalform"),$("body").css("overflow","hidden"),$(".wrapper-menuH").addClass("mostrar-menuH"),$(".wrapper-menuH").removeClass("quitar-menuH")})),$(".close-hamburguer").click((function(){$(".wrapper-menuH").addClass("quitar-menuH"),$("body").removeClass("body-modalform"),$("body").css("overflow","visible"),setTimeout(()=>{$(".wrapper-menuH").removeClass("mostrar-menu-hard"),$(".wrapper-menuH").removeClass("mostrar-menuH"),$(".wrapper-menuH").removeClass("mostrar-menu-perifericos")},400)})),$(".abrir-hardwareH").click((function(){$(".wrapper-menuH").addClass("quitar-menuH"),$(".wrapper-menuH").addClass("mostrar-menu-hard")})),$(".abrir-perifericosH").click((function(){$(".wrapper-menuH").addClass("quitar-menuH"),$(".wrapper-menuH").addClass("mostrar-menu-perifericos")})),$(".volverH").click((function(){$(".wrapper-menuH").removeClass("quitar-menuH"),$(".wrapper-menuH").removeClass("mostrar-menu-hard"),$(".wrapper-menuH").removeClass("mostrar-menu-perifericos"),$(".wrapper-menuH").addClass("mostrar-menuH")}));
//# sourceMappingURL=bundle.js.map
